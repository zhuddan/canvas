{"version":3,"file":"text.js","sources":["../../src/object/text.ts"],"sourcesContent":["import { interceptUpdate } from '../common/intercept'\nimport { TextStyle } from '../style/text-style'\nimport { createCanvasFontString, formatValue } from '../utils'\nimport { Display } from './display'\n\nexport class Text extends Display {\n  style: TextStyle\n  constructor(text: string, x: number, y: number) {\n    super()\n    this.style = new TextStyle()\n    this.position.x = x\n    this.position.y = y\n    this.text = text\n  }\n\n  private _text = ''\n\n  @interceptUpdate()\n  set text(text) {\n    console.log('text', text)\n    this._text = text\n  }\n\n  get text() {\n    return this._text\n  }\n\n  _render(ctx: CanvasRenderingContext2D) {\n    ctx.textBaseline = 'top'\n    ctx.fillStyle = this.style.fill\n    ctx.font = createCanvasFontString(this.style)\n    ctx.fontStretch = this.style.fontStretch\n    ctx.fontVariantCaps = this.style.fontVariantCaps\n    ctx.letterSpacing = formatValue(this.style.letterSpacing)\n    ctx.wordSpacing = formatValue(this.style.wordSpacing)\n    ctx.textAlign = this.style.textAlign\n    ctx.textBaseline = this.style.textBaseline\n    ctx.fillText(this.text, this.position.x, this.position.y)\n  }\n};\n"],"names":["Text","Display","style","constructor","text","x","y","super","this","TextStyle","position","_text","console","log","_render","ctx","textBaseline","fillStyle","fill","font","createCanvasFontString","fontStretch","fontVariantCaps","letterSpacing","formatValue","wordSpacing","textAlign","fillText","__decorate","interceptUpdate","prototype"],"mappings":"oPAKM,MAAOA,UAAaC,EAAAA,QACxBC,MACA,WAAAC,CAAYC,EAAcC,EAAWC,GACnCC,QACAC,KAAKN,MAAQ,IAAIO,EAAAA,UACjBD,KAAKE,SAASL,EAAIA,EAClBG,KAAKE,SAASJ,EAAIA,EAClBE,KAAKJ,KAAOA,CACb,CAEOO,MAAQ,GAGhB,QAAIP,CAAKA,GACPQ,QAAQC,IAAI,OAAQT,GACpBI,KAAKG,MAAQP,CACd,CAED,QAAIA,GACF,OAAOI,KAAKG,KACb,CAED,OAAAG,CAAQC,GACNA,EAAIC,aAAe,MACnBD,EAAIE,UAAYT,KAAKN,MAAMgB,KAC3BH,EAAII,KAAOC,EAAAA,uBAAuBZ,KAAKN,OACvCa,EAAIM,YAAcb,KAAKN,MAAMmB,YAC7BN,EAAIO,gBAAkBd,KAAKN,MAAMoB,gBACjCP,EAAIQ,cAAgBC,EAAWA,YAAChB,KAAKN,MAAMqB,eAC3CR,EAAIU,YAAcD,EAAWA,YAAChB,KAAKN,MAAMuB,aACzCV,EAAIW,UAAYlB,KAAKN,MAAMwB,UAC3BX,EAAIC,aAAeR,KAAKN,MAAMc,aAC9BD,EAAIY,SAASnB,KAAKJ,KAAMI,KAAKE,SAASL,EAAGG,KAAKE,SAASJ,EACxD,EApBDsB,EAAAA,WAAA,CADCC,qBAIA7B,EAAA8B,UAAA,OAAA"}