{"version":3,"file":"canvas.js","sources":["../node_modules/.pnpm/eventemitter3@5.0.1/node_modules/eventemitter3/index.js","../src/utils.ts","../src/app.ts","../src/coordinate/ObservablePoint.ts","../src/object/display.ts","../src/object/picture.ts","../src/object/shape.ts","../src/style/abstract-style.ts","../src/style/text-style.ts","../src/object/text.ts"],"sourcesContent":["'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","import type { PointData } from './coordinate/PointData'\nimport type { TextStyle } from './style/text-style'\n\n/**\n *  输出 px\n * @param val\n */\nexport function formatWithPx(val: string | number) {\n  return typeof val === 'string' ? val : `${val}px`\n}\n\n/**\n * 创造 [CSS-font](https://developer.mozilla.org/zh-CN/docs/Web/CSS/font) 字符串\n * 由于 canvas 绘制的差异性部分属性不生效故舍弃\n */\nexport function createCanvasFontString({\n  fontFamily,\n  fontSize,\n  fontStyle = 'normal',\n  fontWeight = 'normal',\n}: TextStyle): string {\n  const _fontSize = typeof fontSize === 'string' ? fontSize : `${fontSize}px`\n  return `${fontStyle} ${fontWeight} ${_fontSize} ${fontFamily}`\n}\n\n/**\n * 计算最小值\n * @param numbers\n */\nexport function calcMin(numbers: number[]) {\n  return numbers.reduce((a, b) => {\n    return a < b ? a : b\n  })\n}\n/**\n * 计算最大值\n * @param numbers\n */\nexport function calcMax(numbers: number[]) {\n  return numbers.reduce((a, b) => {\n    return a > b ? a : b\n  })\n}\n/**\n * 计算差异\n * @param numbers\n */\nexport function calcDiff(numbers: number[]) {\n  return calcMax(numbers) - calcMin(numbers)\n}\n\n/**\n * 确保输入值在 min 和 max 之间，若超出边界则返回边界\n * @param input\n * @param min\n * @param max\n */\nexport function ensureBetween(input: number, min: number = 0, max: number = 1) {\n  return input <= min ? min : input >= max ? max : input\n}\n\n/**\n * 创建代理\n * @param value\n * @param cb\n */\nexport function createProxy<T extends object>(value: T, cb?: (property: string, newValue: any) => void): T {\n  return new Proxy<T>(value, {\n    set: (target, property, newValue) => {\n      target[property as keyof T] = newValue\n      cb?.(property as string, newValue)\n      return true\n    },\n  })\n}\n\nexport enum ENV {\n  WX = 'WX',\n  WEB = 'WEB',\n  UNKNOWN = 'UNKNOWN',\n  UNI_APP = 'UNI_APP',\n}\n\nexport function getEnv() {\n  if (typeof uni !== 'undefined')\n    return ENV.UNI_APP\n  if (typeof wx !== 'undefined')\n    return ENV.WX\n  if (typeof window !== 'undefined' && typeof window.document !== 'undefined')\n    return ENV.WEB\n  return ENV.UNKNOWN\n}\n\n/**\n * Draws a rectangle with rounded corners compatible with different environments.\n *\n * @param {CanvasRenderingContext2D} ctx - The canvas rendering context.\n * @param {PointData} position - The position of the rectangle.\n * @param {PointData} size - The size of the rectangle.\n * @param {number} [rounded] - The radius of the rounded corners.\n *\n * @return {void}\n */\nexport function drawRectCompatible(\n  ctx: CanvasRenderingContext2D,\n  position: PointData,\n  size: PointData,\n  rounded?: number,\n) {\n  rounded = rounded ?? 0\n  rounded = Math.min(rounded, size.x / 2, size.y / 2)\n  ctx.beginPath()\n  if (rounded) {\n    if (getEnv() === ENV.WX) {\n      // 左上角到右上角\n      ctx.moveTo(position.x + rounded, position.y)\n      ctx.arcTo(position.x + size.x, position.y, position.x + size.x, position.y + rounded, rounded)\n      // 右上角到右下角\n      ctx.arcTo(position.x + size.x, position.y + size.y, position.x + size.x - rounded, position.y + size.y, rounded)\n      // 右下角到左下角\n      ctx.arcTo(position.x, position.y + size.y, position.x, position.y + size.y - rounded, rounded)\n      // 左下角到左上角\n      ctx.arcTo(position.x, position.y, position.x + rounded, position.y, rounded)\n      // 闭合路径\n      ctx.closePath()\n    }\n    else {\n      ctx.roundRect(position.x, position.y, size.x, size.y, rounded)\n    }\n  }\n  else {\n    ctx.rect(position.x, position.y, size.x, size.y)\n  }\n}\n","import EventEmitter from 'eventemitter3'\nimport type { Display } from './object/display'\nimport { ENV, formatWithPx, getEnv } from './utils'\n\nexport interface AppOptions {\n  width?: number\n  height?: number\n  dpr?: boolean | number\n  canvas?: HTMLCanvasElement | string\n}\n\nexport class App extends EventEmitter<{\n  render: []\n  ready: []\n}> {\n  private ctx!: CanvasRenderingContext2D\n  private _ready = false\n  protected _env = getEnv()\n  canvas!: HTMLCanvasElement\n  ticker!: Ticker\n  dpr = 1\n  width = 0\n  height = 0\n  constructor(private options: AppOptions = {}) {\n    super()\n    this.validateAppOptions(options)\n    this.initDpr()\n    this.initTicker()\n    this.initCanvas()\n  }\n\n  onReady(fn: AnyFunction) {\n    if (this._ready) {\n      fn()\n    }\n    else {\n      this.once('ready', () => {\n        fn()\n      })\n    }\n  }\n\n  private validateAppOptions(appOptions: AppOptions) {\n    if (this._env === ENV.WX && !appOptions.canvas) {\n      console.error('当前为非document环境, 无法使用 document.createElement(\\'canvas\\'),\\n 请传入canvas元素或者canvasId')\n    }\n  }\n\n  private initDpr() {\n    const { dpr = true } = this.options\n    if (typeof dpr === 'boolean') {\n      this.dpr = window.devicePixelRatio ?? 1\n    }\n    else {\n      this.dpr = dpr\n    }\n  }\n\n  private initCanvas() {\n    const canvas = this.options.canvas\n    if (canvas) {\n      if (typeof canvas === 'string') {\n        if (this._env === ENV.WEB) {\n          this.canvas = document.querySelector(canvas) as HTMLCanvasElement\n        }\n        else {\n          let query: WechatMiniprogram.SelectorQuery | UniNamespace.SelectorQuery\n          if (this._env === ENV.WX) {\n            query = wx.createSelectorQuery()\n          }\n          else {\n            query = uni.createSelectorQuery()\n          }\n          query.select('#myCanvas')\n            .fields({ node: true, size: true }, undefined as any)\n            .exec((res) => {\n              const canvas = res[0].node as HTMLCanvasElement\n              this.canvas = canvas\n              this.initCanvasSize()\n            })\n        }\n      }\n      else {\n        this.canvas = canvas\n        this.initCanvasSize()\n      }\n    }\n    else {\n      this.canvas = document.createElement('canvas')!\n      this.initCanvasSize()\n    }\n  }\n\n  private initCanvasSize() {\n    const { width = 300, height = 150 } = this.options\n    if (!this.canvas)\n      return\n    if (this.canvas.style) {\n      this.canvas.style.width = formatWithPx(width)\n      this.canvas.style.height = formatWithPx(height)\n      this.canvas.width = width * this.dpr\n      this.canvas.height = height * this.dpr\n    }\n    else {\n      this.canvas.width = width * this.dpr\n      this.canvas.height = height * this.dpr\n    }\n    this.width = width\n    this.height = width\n    this.ctx = this.canvas.getContext('2d')!\n    this._ready = true\n    this.emit('ready')\n    this.ticker.init(this.canvas, true)\n  }\n\n  private initTicker() {\n    this.ticker = new Ticker()\n    this.ticker.add(this.update.bind(this))\n  }\n\n  private beforeRender() {\n    this.ctx.save()\n  }\n\n  private afterRender() {\n    this.ctx.restore()\n  }\n\n  children: Display[] = []\n\n  add(...objects: Display[]) {\n    for (let index = 0; index < objects.length; index++) {\n      const object = objects[index]\n      this.children.push(object)\n      object.onAdd(this)\n    }\n  }\n\n  remove(...objects: Display[]) {\n    for (let index = 0; index < objects.length; index++) {\n      const object = objects[index]\n      const delIndex = this.children.indexOf(object)\n      if (delIndex !== -1) {\n        object.onRemove()\n        this.children.splice(delIndex, 1)\n      }\n    }\n  }\n\n  private update() {\n    if (!this.children.length) {\n      return\n    }\n    const isDirty = !![...this.children.filter(e => e.dirty)].length\n    const _renderIds = this.children.every(e => e._renderId > 0)\n    if (_renderIds && this.children.length) {\n      this.emit('render')\n    }\n    if (!isDirty)\n      return\n    this.ctx.clearRect(\n      -this.canvas.width,\n      -this.canvas.height,\n      this.canvas.width * 2,\n      this.canvas.height * 2,\n    )\n\n    // this.debug()\n    const shouldRender = [...this.children].filter(e => e.shouldUpdate)\n    while (shouldRender.length) {\n      this.beforeRender()\n      const child = shouldRender.shift()!\n      child.render(this.ctx)\n      child.dirty = false\n      child._renderId++\n      this.afterRender()\n    }\n  }\n\n  toDataURL(type?: string, quality?: any) {\n    return this.canvas.toDataURL(type, quality)\n  }\n\n  toDataURLAsync(type?: string, quality?: any) {\n    return new Promise<string>((resolve) => {\n      this.once('render', () => {\n        resolve(this.toDataURL(type, quality))\n      })\n    })\n  }\n\n  wrapperRender(fn: (ctx: CanvasRenderingContext2D) => any) {\n    this.beforeRender()\n    fn(this.ctx)\n    this.afterRender()\n  }\n}\n\nclass Ticker {\n  requestAnimationFrame?: typeof requestAnimationFrame\n  cancelAnimationFrame?: typeof cancelAnimationFrame\n  myReq: number = 0\n  private isRunning: boolean = false\n  handler: ((time: number) => void)[] = []\n  protected _env = getEnv()\n  constructor(protected autoStart: boolean = true) {\n\n  }\n\n  init(canvas: HTMLCanvasElement, autoStart: boolean) {\n    if (this._env === ENV.WX) {\n      this.requestAnimationFrame = (canvas as any).requestAnimationFrame.bind(this)\n      this.cancelAnimationFrame = (canvas as any).requestAnimationFrame.bind(this)\n    }\n    else {\n      this.requestAnimationFrame = requestAnimationFrame.bind(this)\n      this.cancelAnimationFrame = cancelAnimationFrame.bind(this)\n    }\n    if (autoStart) {\n      this.start()\n    }\n  }\n\n  add(fn: (time: number) => void) {\n    this.handler.push(fn)\n  }\n\n  removeAll() {\n    this.handler = []\n  }\n\n  remove(fn: (time: number) => void) {\n    const index = this.handler.indexOf(fn)\n    if (index !== -1) {\n      this.handler.splice(index, 1)\n    }\n  }\n\n  start() {\n    this.isRunning = true\n    this.myReq = this.requestAnimationFrame!(this.update.bind(this))\n  }\n\n  stop() {\n    if (this.isRunning && this.myReq) {\n      this.cancelAnimationFrame?.(this.myReq)\n      this.isRunning = false\n    }\n  }\n\n  update() {\n    if (!this.isRunning)\n      return\n    this.myReq = this.requestAnimationFrame!(this.update.bind(this))\n    this.handler.forEach(fn => fn(performance.now()))\n  }\n}\n","import type { PointData } from './PointData'\nimport type { PointLike } from './PointLike'\n\nexport interface Observer<T> {\n  _onUpdate: (point?: T) => void\n}\n\nexport class ObservablePoint implements PointLike {\n  public _x: number\n  public _y: number\n  private readonly _observer: Observer<ObservablePoint> | null\n  constructor(observer: Observer<ObservablePoint> | null, x?: number, y?: number) {\n    this._x = x || 0\n    this._y = y || 0\n    this._observer = observer\n  }\n\n  public clone(observer?: Observer<ObservablePoint>): ObservablePoint {\n    return new ObservablePoint(observer ?? this._observer, this._x, this._y)\n  }\n\n  public set(x = 0, y = x): this {\n    if (this._x !== x || this._y !== y) {\n      this._x = x\n      this._y = y\n      this._observer?._onUpdate(this)\n    }\n    return this\n  }\n\n  public copyFrom(p: PointData): this {\n    if (this._x !== p.x || this._y !== p.y) {\n      this._x = p.x\n      this._y = p.y\n      this._observer?._onUpdate(this)\n    }\n    return this\n  }\n\n  public copyTo<T extends PointLike>(p: T): T {\n    p.set(this._x, this._y)\n    return p\n  }\n\n  public equals(p: PointData): boolean {\n    return (p.x === this._x) && (p.y === this._y)\n  }\n\n  get x(): number {\n    return this._x\n  }\n\n  set x(value: number) {\n    if (this._x !== value) {\n      this._x = value\n      this._observer?._onUpdate(this)\n    }\n  }\n\n  get y(): number {\n    return this._y\n  }\n\n  set y(value: number) {\n    if (this._y !== value) {\n      this._y = value\n      this._observer?._onUpdate(this)\n    }\n  }\n\n  [Symbol.iterator]() {\n    let step = 0\n    const properties = [this.x, this.y]\n\n    return {\n      next: () => {\n        if (step < properties.length) {\n          return { value: properties[step++], done: false }\n        }\n        else {\n          return { done: true, value: undefined }\n        }\n      },\n    }\n  }\n}\n","import EventEmitter from 'eventemitter3'\nimport type { App } from '../app'\nimport type { Observer } from '../coordinate/ObservablePoint'\nimport { ObservablePoint } from '../coordinate/ObservablePoint'\nimport type { PointData } from '../coordinate/PointData'\nimport { createProxy, ensureBetween, getEnv } from '../utils'\n\ninterface ShadowType {\n  /**\n   * [CanvasRenderingContext2D.shadowOffsetX](https://developer.mozilla.org/docs/Web/API/CanvasRenderingContext2D/shadowOffsetX)\n   */\n  x?: number\n  /**\n   * [CanvasRenderingContext2D.shadowOffsetY](https://developer.mozilla.org/docs/Web/API/CanvasRenderingContext2D/shadowOffsetY)\n   */\n  y?: number\n  /**\n   * [CanvasRenderingContext2D.shadowBlur](https://developer.mozilla.org/docs/Web/API/CanvasRenderingContext2D/shadowBlur)\n   */\n  blur?: number\n  /**\n   * [CanvasRenderingContext2D.shadowColor](https://developer.mozilla.org/docs/Web/API/CanvasRenderingContext2D/shadowColor)\n   */\n  color?: string\n}\n/**\n * [单位矩阵变化](https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/setTransform)\n */\nexport interface DisplayOptions {\n  visible?: boolean\n\n  x?: number\n\n  y?: number\n\n  position?: PointData\n\n  rotation?: number\n\n  scale?: PointData | number\n\n  anchor?: PointData | number\n\n  pivot?: PointData | number\n\n  skew?: PointData\n\n  alpha?: number\n  // 特殊样式\n  shadow?: ShadowType\n}\n\nconst defaultSkew = new ObservablePoint(null)\nconst defaultPivot = new ObservablePoint(null)\nconst defaultAnchor = new ObservablePoint(null)\nconst defaultScale = new ObservablePoint(null, 1, 1)\n\nexport abstract class Display extends EventEmitter<{\n  ready: []\n}> implements Observer<ObservablePoint> {\n  protected _env = getEnv()\n\n  constructor(options: DisplayOptions = {}) {\n    super()\n    this.visible = options.visible ?? true\n    if (options.position) {\n      this.position = options.position\n    }\n    else {\n      this.x = options.x ?? 0\n      this.y = options.y ?? 0\n    }\n    this.scale = options.scale ?? 1\n    this.skew = options.skew ?? { x: 0, y: 0 }\n    this.pivot = options.pivot ?? 0\n    this.shadow = options.shadow ?? this._shadow\n    this.rotation = options.rotation ?? 0\n    this.anchor = options.anchor ?? 0\n    this.alpha = options.alpha ?? 1\n  }\n\n  /**\n   * 更新优化\n   */\n\n  private get __shouldUpdate() {\n    return !(!this.visible\n      || this.scale.x === 0\n      || this.scale.y === 0\n      || this.alpha === 0)\n  }\n  /**\n   * 更新优化\n   * 如果_shouldRender为true 则渲染\n   * 否则跳过渲染\n   */\n  abstract get _shouldUpdate(): boolean\n\n  get shouldUpdate() {\n    return this.__shouldUpdate && this._shouldUpdate\n  }\n\n  protected _dirty = false\n  set dirty(value) {\n    if (this._dirty === value)\n      return\n    this._dirty = value\n  }\n\n  get dirty() {\n    return this._dirty\n  }\n\n  set x(value) {\n    if (this.x !== value) {\n      this.position.x = value\n    }\n  }\n\n  get x() {\n    return this.position.x\n  }\n\n  set y(value) {\n    if (this.y !== value) {\n      this.position.y = value\n    }\n  }\n\n  get y() {\n    return this.position.y\n  }\n\n  private _position = new ObservablePoint(this, 0, 0)\n\n  set position(value: PointData) {\n    if (this.position !== value) {\n      this._position.copyFrom(value)\n    }\n  }\n\n  get position(): ObservablePoint {\n    return this._position\n  }\n\n  private _scale: ObservablePoint = defaultScale\n\n  set scale(value: PointData | number) {\n    if (this._scale === defaultScale) {\n      this._scale = new ObservablePoint(this, 1, 1)\n    }\n    if (typeof value === 'number') {\n      this._scale.set(value)\n    }\n    else {\n      this._scale.copyFrom(value)\n    }\n  }\n\n  get scale(): ObservablePoint {\n    if (this._scale === defaultScale) {\n      this._scale = new ObservablePoint(this, 1, 1)\n    }\n    return this._scale\n  }\n\n  private _skew: ObservablePoint = defaultSkew\n\n  set skew(value: PointData) {\n    if (this._skew === defaultSkew) {\n      this._skew = new ObservablePoint(this)\n    }\n    this._skew.copyFrom(value)\n  }\n\n  get skew(): ObservablePoint {\n    if (this._skew === defaultSkew) {\n      this._skew = new ObservablePoint(this, 0, 0)\n    }\n    return this._skew\n  }\n\n  private _alpha = 1\n\n  set alpha(value) {\n    if (this.alpha !== value) {\n      this._alpha = value\n      this._onUpdate()\n    }\n  }\n\n  get alpha() {\n    return this._alpha\n  }\n\n  private _rotation = 0\n\n  set rotation(value) {\n    if (this.rotation !== value) {\n      this._rotation = value\n      this._onUpdate()\n    }\n  }\n\n  get rotation() {\n    return this._rotation\n  }\n\n  private _anchor = defaultAnchor\n\n  set anchor(value: PointData | number) {\n    if (this._anchor === defaultAnchor) {\n      this._anchor = new ObservablePoint(this, 0, 0)\n    }\n    if (typeof value === 'number') {\n      this._anchor.set(value)\n    }\n    else {\n      this._anchor.copyFrom(value)\n    }\n  }\n\n  get anchor(): ObservablePoint {\n    if (this._anchor === defaultAnchor) {\n      this._anchor = new ObservablePoint(this)\n    }\n    return this._anchor\n  }\n\n  private _pivot: ObservablePoint = defaultPivot\n\n  set pivot(value: PointData | number) {\n    if (this._pivot === defaultPivot) {\n      this._pivot = new ObservablePoint(this, 0, 0)\n    }\n    if (typeof value === 'number') {\n      this._pivot.set(value)\n    }\n    else {\n      this._pivot.copyFrom(value)\n    }\n  }\n\n  get pivot(): ObservablePoint {\n    if (this._pivot === defaultPivot) {\n      this._pivot = new ObservablePoint(this)\n    }\n    return this._pivot\n  }\n\n  private _shadow: ShadowType = { x: 0, y: 0 }\n\n  set shadow(value) {\n    if (value === this._shadow)\n      return\n    if (value) {\n      this._shadow = createProxy(value, () => {\n        this._onUpdate()\n      })\n      this._onUpdate()\n    }\n  }\n\n  get shadow(): ShadowType {\n    return this._shadow\n  }\n\n  _onUpdate(_point?: ObservablePoint | undefined) {\n    this.dirty = true\n  }\n\n  _app: App | null = null\n  // abstract style: BaseStyle\n\n  private _visible = true\n\n  get visible() {\n    return this._visible\n  }\n\n  set visible(value) {\n    this._visible = value\n    this._onUpdate()\n  }\n\n  protected _shouldUpdateBounds = true\n\n  protected shouldUpdateBounds() {\n    this._shouldUpdateBounds = true\n  }\n\n  private _baseRender(ctx: CanvasRenderingContext2D) {\n    if ((this.shadow?.x || this.shadow?.y)\n      && (this.shadow?.blur || this.shadow?.color)) {\n      if (this.shadow.color) {\n        ctx.shadowColor = this.shadow.color\n      }\n      if (this.shadow.blur) {\n        ctx.shadowBlur = this.shadow.blur\n      }\n      if (this.shadow.x) {\n        ctx.shadowOffsetX = this.shadow.x\n      }\n      if (this.shadow.y) {\n        ctx.shadowOffsetY = this.shadow.y\n      }\n    }\n  }\n\n  public render(ctx: CanvasRenderingContext2D) {\n    if (this._shouldUpdateBounds) {\n      this.updateTransformBounds()\n      this._shouldUpdateBounds = false\n    }\n    if (this.alpha !== 1) {\n      ctx.globalAlpha = this.alpha\n    }\n    const dpr = this._app?.dpr ?? 1\n    const scaleX = this.scale.x * dpr\n    const scaleY = this.scale.y * dpr\n    const skewX = this.skew.x\n    const skewY = this.skew.y\n    const positionX = this.position.x * dpr\n    const positionY = this.position.y * dpr\n    const pivotX = this.pivot.x\n    const pivotY = this.pivot.y\n    const rotation = this.rotation\n    // Calculate rotation matrix components\n    const cos = Math.cos(rotation)\n    const sin = Math.sin(rotation)\n\n    const anchorX = ensureBetween(this.anchor.x, 0, 1)\n    const anchorY = ensureBetween(this.anchor.y, 0, 1)\n\n    const originX = this.transformWidth * anchorX\n    const originY = this.transformHeight * anchorY\n\n    const dx = positionX - (pivotX + originX) * cos * scaleX + (pivotY + originY) * sin * scaleY\n    const dy = positionY - (pivotX + originX) * sin * scaleX - (pivotY + originY) * cos * scaleY\n\n    ctx.setTransform(\n      scaleX * cos + skewY * -sin, // a\n      scaleX * sin + skewY * cos, // b\n      skewX * cos + scaleY * -sin, // c\n      skewX * sin + scaleY * cos, // d\n      dx, // e\n      dy, // f\n    )\n    const _position = this.position.clone()\n    this.position.set(0)\n    this._baseRender(ctx)\n    this._render(ctx)\n    this.position = _position\n    ctx.resetTransform()\n  }\n\n  _renderId = 0\n  protected abstract _render(ctx: CanvasRenderingContext2D): void\n\n  /**\n   * 同于形变转换的宽度\n   */\n  protected abstract transformWidth: number\n  /**\n   * 同于形变转换的高度\n   */\n  protected abstract transformHeight: number\n\n  /**\n   * 同于形变转换的边界\n   */\n  protected abstract updateTransformBounds(): void\n\n  get height() {\n    return this.transformHeight\n  }\n\n  get width() {\n    return this.transformWidth\n  }\n\n  onAdd(_app: App) {\n    this._app = _app\n    this._onUpdate()\n  }\n\n  onRemove() {\n    this._app = null\n    this._onUpdate()\n  }\n\n  addTo(app: App) {\n    app.add(this)\n    return this\n  }\n\n  destroy() {\n    this.removeAllListeners()\n  }\n}\n","import type { Properties } from 'csstype'\nimport type { PointData } from '../coordinate/PointData'\nimport { ObservablePoint } from '../coordinate/ObservablePoint'\nimport { ENV, calcDiff, drawRectCompatible } from '../utils'\nimport type { App } from '../app'\nimport type { DisplayOptions } from './display'\nimport { Display } from './display'\n\nexport interface PictureOptions extends DisplayOptions {\n  size?: PointData\n  slice?: PointData\n  sliceSize?: PointData\n  objectFit?: Properties['objectFit']\n  rounded?: number\n}\n\nexport class Picture extends Display {\n  private src = ''\n  constructor(maybeImage: HTMLImageElement | string, private options?: PictureOptions) {\n    super(options)\n    if (typeof maybeImage == 'string') {\n      if (this._env === ENV.WX) {\n        this.src = maybeImage\n      }\n      else {\n        this.image = document.createElement('img')\n        this.image.src = maybeImage\n        this.initImageEvents()\n      }\n      this.rounded = this.options?.rounded ?? 0\n    }\n    else {\n      this.image = maybeImage\n      this.initImageEvents()\n    }\n  }\n\n  onAdd(_app: App) {\n    super.onAdd(_app)\n    if (this._env !== ENV.WEB) {\n      _app.onReady(this.createImage.bind(this))\n    }\n  }\n\n  createImage() {\n    if (!this._app)\n      return\n    this.image = (this._app?.canvas as any).createImage()\n    this.image!.src = this.src\n    this.initImageEvents()\n  }\n\n  initImageEvents() {\n    if (!this.image)\n      return\n    if (this.image.complete) {\n      this._onImageComplete()\n    }\n    else {\n      this.image.addEventListener('load', () => {\n        this._onImageComplete()\n      })\n    }\n  }\n\n  private image?: HTMLImageElement\n\n  private _size = new ObservablePoint(this, 0, 0)\n\n  private _imageSize = new ObservablePoint(this, 0, 0)\n\n  set size(value: PointData) {\n    if (this.size !== value) {\n      this._size.copyFrom(value)\n      this.shouldUpdateBounds()\n    }\n  }\n\n  get size(): ObservablePoint {\n    return this._size\n  }\n\n  private _slice = new ObservablePoint(this)\n\n  set slice(value: PointData) {\n    if (this.slice !== value) {\n      this._slice.copyFrom(value)\n      this.shouldUpdateBounds()\n    }\n  }\n\n  get slice(): ObservablePoint {\n    return this._slice\n  }\n\n  private _sliceSize = new ObservablePoint(this)\n\n  set sliceSize(value: PointData) {\n    if (this.sliceSize !== value) {\n      this._sliceSize.copyFrom(value)\n      this._onUpdate()\n      this.shouldUpdateBounds()\n    }\n  }\n\n  get sliceSize(): ObservablePoint {\n    return this._sliceSize\n  }\n\n  private _objectFit: Properties['objectFit'] = 'none'\n\n  set objectFit(value) {\n    if (this.objectFit !== value) {\n      this._objectFit = value\n      this.shouldUpdateBounds()\n      this._onUpdate()\n    }\n  }\n\n  get objectFit() {\n    return this._objectFit\n  }\n\n  private _rounded = 0\n\n  set rounded(value) {\n    value = value <= 0 ? 0 : value\n    if (this.rounded !== value) {\n      this._rounded = value\n      this._onUpdate()\n    }\n  }\n\n  _onUpdate(_point?: ObservablePoint | undefined) {\n    if (this._complete)\n      super._onUpdate(_point)\n  }\n\n  get rounded() {\n    return this._rounded\n  }\n\n  private _complete = false\n\n  private _onImageComplete() {\n    if (!this.image)\n      return\n    this._imageSize.set(\n      this.image.width,\n      this.image.height,\n    )\n\n    this.size = this.options?.size ?? {\n      x: this.image.width,\n      y: this.image.height,\n    }\n\n    this.slice = this.options?.slice ?? this.slice\n\n    this.sliceSize = this.options?.sliceSize ?? {\n      x: this.size.x,\n      y: this.size.y,\n    }\n\n    this.objectFit = this.options?.objectFit ?? this.objectFit\n\n    this.rounded = this.options?.rounded ?? this.rounded\n    this._complete = true\n    this.emit('ready')\n    this._onUpdate()\n    this.shouldUpdateBounds()\n  }\n\n  get _shouldUpdate(): boolean {\n    return true\n  }\n\n  private get _isSlice() {\n    return (!!this.slice.x || !!this.slice.y) || !this.sliceSize.equals(this.size)\n  }\n\n  private renderRoundedClip(ctx: CanvasRenderingContext2D, position: PointData, size: PointData) {\n    drawRectCompatible(ctx, position, size, this.rounded)\n    ctx.clip()\n  }\n\n  protected _render(ctx: CanvasRenderingContext2D): void {\n    if (!this.image || !this._complete) {\n      return\n    }\n    if (!this._isSlice) {\n      const _size = this.size.clone()\n      const _position = this.position.clone()\n      const scaleDiff = _size.x / this._imageSize.x\n      const diffSize = calcDiff([this._imageSize.x, this._imageSize.y])\n      const diff = diffSize * scaleDiff\n      const slim = this._imageSize.x < this._imageSize.y\n      const fat = this._imageSize.x > this._imageSize.y\n      if (slim || fat) {\n        switch (this.objectFit) {\n          case 'contain':\n            if (slim) {\n              this.position.set(this.position.x - diff / 2, this.position.y)\n              this.size.set(this.size.x - diff, this.size.y)\n            }\n            else {\n              this.position.set(this.position.x, this.position.y + diff / 2)\n              this.size.set(this.size.x, this.size.y - diff)\n            }\n            // ctx.beginPath()\n            // if (this.rounded) {\n            //   ctx.roundRect(this.x, this.y, this.size.x, this.size.y, this.rounded)\n            // }\n            // else {\n            //   ctx.rect(this.x, this.y, this.size.x, this.size.y)\n            // }\n            // ctx.clip()\n            this.renderRoundedClip(ctx, this.position, this.size)\n            break\n          case 'cover':\n            if (slim) {\n              this.position.set(this.position.x + diff / 2, this.position.y)\n              this.size.set(this.size.x + diff, this.size.y)\n            }\n            else {\n              this.position.set(this.position.x - diff / 2, this.position.y)\n              this.size.set(this.size.x + diff, this.size.y)\n            }\n            // ctx.beginPath()\n            // if (this.rounded) {\n            //   ctx.roundRect(_position.x, _position.y, _size.x, _size.y, this.rounded)\n            // }\n            // else {\n            //   ctx.rect(_position.x, _position.y, _size.x, _size.y)\n            // }\n            // ctx.clip()\n            this.renderRoundedClip(ctx, _position, _size)\n            break\n          default:\n            this.renderRoundedClip(ctx, this.position, this.size)\n        }\n      }\n      ctx.drawImage(\n        this.image,\n        this.position.x,\n        this.position.y,\n        this.size.x,\n        this.size.y,\n      )\n      this.position = _position\n      this.size = _size\n    }\n    else {\n      const args = [\n        this.image,\n        this.slice.x,\n        this.slice.y,\n        this.sliceSize.x,\n        this.sliceSize.y,\n        this.x,\n        this.y,\n        this.size.x,\n        this.size.y,\n      ] as const\n\n      // ctx.beginPath()\n      // console.log(this.rounded)\n      // if (this.rounded) {\n      //   ctx.roundRect(this.x, this.y, this.size.x, this.size.y, this.rounded)\n      // }\n      // else {\n      //   ctx.rect(this.x, this.y, this.size.x, this.size.y)\n      // }\n      // ctx.clip()\n      this.renderRoundedClip(ctx, this.position, this.size)\n      ctx.drawImage(...args)\n    }\n  }\n\n  protected transformWidth: number = 0\n  protected transformHeight: number = 0\n  protected updateTransformBounds(): void {\n    this.transformWidth = this.size.x\n    this.transformHeight = this.size.y\n  }\n}\n","import type { IAbstractStyle, InputColor, StrokeInput } from '../style/abstract-style'\n// import type { FunctionKeys } from '../types'\nimport { ENV, calcDiff, createProxy, drawRectCompatible } from '../utils'\nimport type { DisplayOptions } from './display'\nimport { Display } from './display'\n\n// type CanvasRenderingContext2DMethods = FunctionKeys<CanvasRenderingContext2D>\ninterface PathData<T extends keyof CanvasRenderingContext2D> {\n  action: T\n  args: any[]\n}\n\ntype Methods =\n  | 'beginPath'\n  | 'closePath'\n  | 'moveTo'\n  | 'fill'\n  | 'stroke'\n  | 'lineTo' //\n  | 'rect' //\n  | 'roundRect' //\n  | 'fillRect' //\n  | 'strokeRect'\n  | 'arc' //\n  | 'arcTo' //\n  | 'bezierCurveTo' //\n  | 'ellipse'\n  | 'lineCap'\n  | 'lineJoin'\n\ntype PathInstruction = PathData<Methods>\ninterface _ShapeOptions extends DisplayOptions {\n\n}\n\ninterface IShape {\n  beginPath: () => Shape\n  closePath: () => Shape\n  moveTo: (...args: Parameters<CanvasRenderingContext2D['moveTo']>) => Shape\n  lineTo: (...args: Parameters<CanvasRenderingContext2D['lineTo']>) => Shape\n  stroke: (value?: StrokeInput | InputColor) => Shape\n  fill: (color?: InputColor) => Shape\n  rect: (...args: Parameters<CanvasRenderingContext2D['rect']>) => Shape\n  roundRect: (...args: Parameters<CanvasRenderingContext2D['roundRect']>) => Shape\n  arc: (...args: Parameters<CanvasRenderingContext2D['arc']>) => Shape\n  arcTo: (...args: Parameters<CanvasRenderingContext2D['arcTo']>) => Shape\n  bezierCurveTo: (...args: Parameters<CanvasRenderingContext2D['bezierCurveTo']>) => Shape\n  ellipse: (...args: Parameters<CanvasRenderingContext2D['ellipse']>) => Shape\n  fillRect: (...args: Parameters<CanvasRect['fillRect']>) => Shape\n  strokeRect: (...args: Parameters<CanvasRect['strokeRect']>) => Shape\n  lineCap: (...args: [CanvasRenderingContext2D['lineCap']]) => void\n  lineJoin: (...args: [CanvasRenderingContext2D['lineJoin']]) => void\n\n}\n\nexport type ShapeOptions = Partial<_ShapeOptions>\n\nexport class Shape extends Display implements IShape {\n  constructor(options: ShapeOptions = {}) {\n    super(options)\n    this.emit('ready')\n    this._onUpdate()\n  }\n\n  private addPath(...items: PathInstruction[]) {\n    this.pathInstruction.push(...items)\n    this.shouldUpdateBounds()\n  }\n\n  beginPath(): Shape {\n    this.addPath({\n      action: 'beginPath',\n      args: [],\n    })\n    return this\n  }\n\n  closePath() {\n    this.addPath({\n      action: 'closePath',\n      args: [],\n    })\n    return this\n  }\n\n  lineCap(cap: 'butt' | 'round' | 'square') {\n    this.addPath({\n      action: 'lineCap',\n      args: [cap],\n    })\n    return this\n  }\n\n  lineJoin(join: 'bevel' | 'miter' | 'round') {\n    this.addPath({\n      action: 'lineJoin',\n      args: [join],\n    })\n    return this\n  }\n\n  moveTo(x: number, y: number) {\n    this.addPath({\n      action: 'moveTo',\n      args: [x, y],\n    })\n    return this\n  }\n\n  lineTo(x: number, y: number) {\n    this.addPath({\n      action: 'lineTo',\n      args: [x, y],\n    })\n    return this\n  }\n\n  rect(x: number, y: number, w: number, h: number) {\n    this.addPath({\n      action: 'rect',\n      args: [x, y, w, h],\n    })\n    return this\n  }\n\n  roundRect(\n    x: number,\n    y: number,\n    w: number,\n    h: number,\n    radii?: number | DOMPointInit | Iterable<number | DOMPointInit>,\n  ) {\n    this.addPath({\n      action: 'roundRect',\n      args: [x, y, w, h, radii],\n    })\n    return this\n  }\n\n  arc(\n    x: number,\n    y: number,\n    radius: number,\n    startAngle: number = 0,\n    endAngle: number = 2 * Math.PI,\n    counterclockwise?: boolean,\n  ) {\n    this.addPath({\n      action: 'arc',\n      args: [x, y, radius, startAngle, endAngle, counterclockwise],\n    })\n    return this\n  }\n\n  arcTo(x1: number, y1: number, x2: number, y2: number, radius: number) {\n    this.addPath({\n      action: 'arcTo',\n      args: [x1, y1, x2, y2, radius],\n    })\n    return this\n  }\n\n  bezierCurveTo(\n    cp1x: number,\n    cp1y: number,\n    cp2x: number,\n    cp2y: number,\n    x: number,\n    y: number,\n  ) {\n    this.addPath({\n      action: 'bezierCurveTo',\n      args: [cp1x, cp1y, cp2x, cp2y, x, y],\n    })\n    return this\n  }\n\n  ellipse(\n    x: number,\n    y: number,\n    radiusX: number,\n    radiusY: number,\n    rotation: number,\n    startAngle: number,\n    endAngle: number,\n    counterclockwise?: boolean,\n  ) {\n    this.addPath({\n      action: 'ellipse',\n      args: [x, y, radiusX, radiusY, rotation, startAngle, endAngle, counterclockwise],\n    })\n    return this\n  }\n\n  fillRect(x: number, y: number, w: number, h: number) {\n    this.addPath({\n      action: 'fillRect',\n      args: [x, y, w, h],\n    })\n    return this\n  }\n\n  strokeRect(x: number, y: number, w: number, h: number) {\n    this.addPath({\n      action: 'strokeRect',\n      args: [x, y, w, h],\n    })\n    return this\n  }\n\n  private pathInstruction: PathInstruction[] = []\n  get _shouldUpdate(): boolean {\n    const actions = this.pathInstruction.map(item => item.action)\n    if (actions.includes('fill')\n      || actions.includes('stroke')) {\n      return true\n    }\n    return false\n  }\n\n  protected _render(ctx: CanvasRenderingContext2D): void {\n    if (!ctx) {\n      throw new Error('CanvasRenderingContext2D is null or undefined')\n    }\n    for (let index = 0; index < this.pathInstruction.length; index++) {\n      const { action, args } = this.pathInstruction[index]\n      if (action === 'fill') {\n        if (args[0]) {\n          ctx.fillStyle = args[0]\n        }\n        else if (this.fillStyle) {\n          ctx.fillStyle = this.fillStyle\n        }\n        ctx.fill()\n      }\n      else if (action === 'stroke') {\n        if (args[0]) {\n          const strokeInput = args[0] as StrokeInput | InputColor\n          if (typeof strokeInput === 'string'\n            || (typeof CanvasGradient !== 'undefined' && strokeInput instanceof CanvasGradient)\n            || (typeof CanvasPattern !== 'undefined' && strokeInput instanceof CanvasPattern)\n          ) {\n            ctx.strokeStyle = strokeInput\n            ctx.lineWidth = this.strokeStyle.width ?? 1\n          }\n          else {\n            const _strokeInput = strokeInput as StrokeInput\n            const color = _strokeInput.color ?? this.strokeStyle.color\n            if (color)\n              ctx.strokeStyle = color\n\n            const width = _strokeInput.width ?? this.strokeStyle.width\n\n            if (width)\n              ctx.lineWidth = width\n\n            if (_strokeInput.dash) {\n              ctx.setLineDash(_strokeInput.dash)\n            }\n            else {\n              ctx.setLineDash([])\n            }\n          }\n        }\n        else {\n          if (this.strokeStyle.color)\n            ctx.strokeStyle = this.strokeStyle.color\n          if (this.strokeStyle.width)\n            ctx.lineWidth = this.strokeStyle.width\n          if (this.strokeStyle.dash) {\n            ctx.setLineDash(this.strokeStyle.dash)\n          }\n          else {\n            ctx.setLineDash([])\n          }\n        }\n        ctx.stroke()\n      }\n      else if (['lineCap', 'lineJoin'].includes(action)) {\n        ctx[action] = args[0]\n      }\n      else if (action === 'roundRect' && this._env === ENV.WX) {\n        drawRectCompatible(ctx, { x: args[0], y: args[1] }, { x: args[2], y: args[3] }, args[4])\n      }\n      else {\n        if (!(action in ctx)) {\n          throw new Error(`CanvasRenderingContext2D has no method ${action}`)\n        }\n        else {\n          ;(ctx[action] as (...args: any[]) => void)(...args)\n        }\n      }\n    }\n  }\n\n  private _strokeStyle: StrokeInput = {}\n\n  set strokeStyle(value: StrokeInput | InputColor) {\n    if (value === this._strokeStyle)\n      return\n    if (\n      typeof value === 'string'\n      || (typeof CanvasGradient !== 'undefined' && value instanceof CanvasGradient)\n      || (typeof CanvasPattern !== 'undefined' && value instanceof CanvasPattern)\n    ) {\n      this._strokeStyle = createProxy({\n        ...this._strokeStyle,\n        color: value,\n      }, () => {\n        this._onUpdate()\n      })\n    }\n    else {\n      this._strokeStyle = createProxy(value as StrokeInput, () => {\n        this._onUpdate()\n      })\n      this._onUpdate()\n    }\n  }\n\n  get strokeStyle(): StrokeInput {\n    return this._strokeStyle\n  }\n\n  protected transformWidth = 0\n  protected transformHeight = 0\n  protected updateTransformBounds(): void {\n    // 所有坐标的最大值放进来\n    const allX: number[] = []\n    const allY: number[] = []\n    for (let index = 0; index < this.pathInstruction.length; index++) {\n      const { action, args } = this.pathInstruction[index]\n      switch (action) {\n        case 'lineTo':\n          allX.push(args[0])\n          allY.push(args[1])\n          break\n        case 'fillRect':\n        case 'strokeRect':\n        case 'roundRect':\n        case 'rect':{\n          let strokeWeight = 0\n          if (action === 'strokeRect') {\n            strokeWeight = this.strokeStyle.width ?? 1\n          }\n          allX.push(args[0])\n          allY.push(args[1])\n\n          allX.push(args[0] + args[2] + strokeWeight)\n          allY.push(args[1] + args[3] + strokeWeight)\n          break\n        }\n        case 'arc':\n          allX.push(args[0] + args[2])\n          allY.push(args[1] + args[2])\n          break\n        case 'arcTo':\n          allX.push(args[0] + args[2])\n          allY.push(args[1] + args[2])\n          break\n        case 'bezierCurveTo':\n          allX.push(args[2] + args[4])\n          allY.push(args[3] + args[5])\n          break\n        case 'ellipse':\n          allX.push(args[0] + args[2])\n          allY.push(args[1] + args[3])\n      }\n    }\n    this.transformWidth = calcDiff(allX)\n    this.transformHeight = calcDiff(allY)\n  }\n\n  private _fillStyle: InputColor | null = null\n\n  set fillStyle(value) {\n    this._fillStyle = value\n    this._onUpdate()\n  }\n\n  get fillStyle() {\n    return this._fillStyle\n  }\n\n  fill(color?: IAbstractStyle['fill']) {\n    if (color) {\n      this.addPath({\n        action: 'fill',\n        args: [color],\n      })\n    }\n    return this\n  }\n\n  stroke(value?: StrokeInput | InputColor) {\n    this.addPath({\n      action: 'stroke',\n      args: value ? [value] : [],\n    })\n    return this\n  }\n\n  private _filter = 'none'\n\n  set filter(value) {\n    this._filter = value\n    this._onUpdate()\n  }\n\n  get filter() {\n    return this._filter\n  }\n}\n","import EventEmitter from 'eventemitter3'\nimport { createProxy } from '../utils'\n\nexport type InputColor = CanvasRenderingContext2D['strokeStyle']\nexport type LineDash = Iterable<number>\nexport interface StrokeInput {\n  color?: InputColor\n  width?: number\n  dash?: LineDash\n}\n\n// | CanvasRenderingContext2D['strokeStyle']\nexport interface IAbstractStyle {\n  /**\n   * 填充颜色\n   * [MDN Reference](https://developer.mozilla.org/docs/Web/API/CanvasRenderingContext2D/fillStyle)\n   */\n  fill: CanvasRenderingContext2D['fillStyle'] | null\n  /**\n   * 描边颜色 当仅仅指定stroke 而未指定 fill 时 只会绘制镂空文字\n   * [MDN Reference](https://developer.mozilla.org/docs/Web/API/CanvasRenderingContext2D/strokeStyle)\n   */\n  stroke: StrokeInput\n  /**\n   * [CanvasRenderingContext2D.filter](https://developer.mozilla.org/docs/Web/API/CanvasRenderingContext2D/filter)\n   */\n  filter: CanvasRenderingContext2D['filter']\n}\nexport abstract class AbstractStyle extends EventEmitter<{\n  update: []\n  updateBounds: []\n}> implements IAbstractStyle {\n  private _fill = '#000'\n\n  set fill(value) {\n    this._fill = value\n    this.update()\n  }\n\n  get fill() {\n    return this._fill\n  }\n\n  private _stroke: StrokeInput = {}\n\n  set stroke(value: StrokeInput | InputColor) {\n    if (value === this._stroke)\n      return\n    if (\n      typeof value === 'string'\n      || (typeof CanvasGradient !== 'undefined' && value instanceof CanvasGradient)\n      || (typeof CanvasPattern !== 'undefined' && value instanceof CanvasPattern)\n    ) {\n      this._stroke = createProxy({\n        ...this._stroke,\n        color: value,\n      }, () => {\n        this.update()\n      })\n    }\n    else {\n      this._stroke = createProxy(value as StrokeInput, () => {\n        this.update()\n      })\n      this.update()\n    }\n  }\n\n  get stroke(): StrokeInput {\n    return this._stroke\n  }\n\n  private _filter = 'none'\n\n  set filter(value) {\n    this._filter = value\n    this.update()\n  }\n\n  get filter() {\n    return this._filter\n  }\n\n  update() {\n    this.emit('update')\n  }\n\n  updateBounds() {\n    this.emit('updateBounds')\n  }\n\n  render(ctx: CanvasRenderingContext2D) {\n    if (this.stroke.color && this.stroke.width) {\n      ctx.lineWidth = this.stroke.width\n      ctx.strokeStyle = this.stroke.color\n    }\n    if (this.fill) {\n      ctx.fillStyle = this.fill\n    }\n    if (this.filter) {\n      ctx.filter = this.filter\n    }\n    return this\n  }\n\n  destroy() {\n    this.removeAllListeners()\n  }\n}\n","import type { Properties } from 'csstype'\nimport { createCanvasFontString, formatWithPx } from '../utils'\nimport type { IAbstractStyle } from './abstract-style'\nimport { AbstractStyle } from './abstract-style'\n\nexport interface TextStyleOptions extends IAbstractStyle {\n  /**\n   * @description 字体\n   * [MDN Reference](https://developer.mozilla.org/zh-CN/docs/Web/CSS/font-family)\n   */\n  fontFamily: Properties['fontFamily']\n  /**\n   * @description 字体大小 当值为 number 时单位为px\n   * [MDN Reference](https://developer.mozilla.org/zh-CN/docs/Web/CSS/font-size)\n   */\n  fontSize: Properties['fontSize'] | (number & {})\n  /**\n   * @description 字体样式\n   * [MDN Reference](https://developer.mozilla.org/zh-CN/docs/Web/CSS/font-style)\n   */\n  fontStyle: Properties['fontStyle']\n  /**\n   * @description 字体的粗细程度\n   * [MDN Reference](https://developer.mozilla.org/zh-CN/docs/Web/CSS/font-weight)\n   */\n  fontWeight: Properties['fontWeight']\n  /**\n   * 指定绘制文本时字体如何被扩展或压缩\n   * [MDN Reference](https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/fontStretch)\n   */\n  fontStretch: CanvasFontStretch\n  /**\n   * 用于指定渲染文本的替代大写形式\n   * [MDN Reference](https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/fontVariantCaps)\n   */\n  fontVariantCaps: CanvasFontVariantCaps\n  /**\n   * 用于指定绘制文本时字母之间的间距\n   * [MDN Reference](https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/letterSpacing)\n   */\n  letterSpacing: string | number\n  /**\n   * 指定绘制文本时单词之间的间距\n   * [MDN Reference](https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/wordSpacing)\n   */\n  wordSpacing: string | number\n  /**\n   * 文本时文本的对齐方式\n   * [MDN Reference](https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/textAlign)\n   */\n  textAlign: CanvasTextAlign\n\n  lineHeight: number\n  wordWrap: boolean\n  wordWrapWidth: number\n}\n\nexport class TextStyle extends AbstractStyle implements TextStyleOptions {\n  public static defaultTextStyle: TextStyleOptions = {\n    fill: 'black',\n    stroke: {\n      width: 1,\n    },\n    fontFamily: 'Arial',\n    fontSize: 12,\n    fontStyle: 'normal',\n    fontWeight: 'normal',\n    fontStretch: 'condensed',\n    fontVariantCaps: 'normal',\n    letterSpacing: 0,\n    wordSpacing: 0,\n    textAlign: 'left',\n    filter: 'none',\n    lineHeight: 0,\n    wordWrap: false,\n    wordWrapWidth: 0,\n  }\n\n  _isStroke: boolean\n  constructor(style: Partial<TextStyleOptions> = {}) {\n    super()\n    this._isStroke = !!style.stroke\n    const fullStyle = Object.assign({}, TextStyle.defaultTextStyle, style)\n    for (const key in fullStyle) {\n      const thisKey = key as keyof typeof this\n      const data = fullStyle[key as keyof TextStyleOptions] as any\n      if (key === 'stroke') {\n        this[thisKey] = Object.assign({}, TextStyle.defaultTextStyle[key] as unknown as object, data)\n      }\n      else {\n        this[thisKey] = data\n      }\n    }\n  }\n\n  public reset() {\n    const defaultStyle = TextStyle.defaultTextStyle\n    for (const key in defaultStyle) {\n      this[key as keyof typeof this] = defaultStyle[key as keyof TextStyleOptions] as any\n    }\n    this.updateBounds()\n    this.update()\n  }\n\n  protected readonly textBaseline = 'top'\n\n  private _fontSize: TextStyleOptions['fontSize']\n  set fontSize(value) {\n    this._fontSize = value\n    this.updateBounds()\n    this.update()\n  }\n\n  get fontSize() {\n    return this._fontSize\n  }\n\n  private _fontFamily: TextStyleOptions['fontFamily']\n  set fontFamily(value) {\n    this._fontFamily = value\n    this.updateBounds()\n    this.update()\n  }\n\n  get fontFamily() {\n    return this._fontFamily\n  }\n\n  private _fontStyle: TextStyleOptions['fontStyle']\n\n  set fontStyle(value) {\n    this._fontStyle = value\n    this.updateBounds()\n    this.update()\n  }\n\n  get fontStyle() {\n    return this._fontStyle\n  }\n\n  private _fontWeight: TextStyleOptions['fontWeight']\n\n  set fontWeight(value) {\n    this._fontWeight = value\n    this.updateBounds()\n    this.update()\n  }\n\n  get fontWeight() {\n    return this._fontWeight\n  }\n\n  private _fontStretch: TextStyleOptions['fontStretch'] = TextStyle.defaultTextStyle.fontStretch\n\n  set fontStretch(value) {\n    this._fontStretch = value\n    this.updateBounds()\n    this.update()\n  }\n\n  get fontStretch() {\n    return this._fontStretch\n  }\n\n  private _fontVariantCaps: TextStyleOptions['fontVariantCaps'] = TextStyle.defaultTextStyle.fontVariantCaps\n\n  set fontVariantCaps(value) {\n    this._fontVariantCaps = value\n    this.updateBounds()\n    this.update()\n  }\n\n  get fontVariantCaps() {\n    return this._fontVariantCaps\n  }\n\n  private _letterSpacing: TextStyleOptions['letterSpacing'] = TextStyle.defaultTextStyle.letterSpacing\n\n  set letterSpacing(value) {\n    this._letterSpacing = value\n    this.update()\n    this.updateBounds()\n  }\n\n  get letterSpacing() {\n    return this._letterSpacing\n  }\n\n  private _wordSpacing: TextStyleOptions['wordSpacing'] = TextStyle.defaultTextStyle.wordSpacing\n\n  set wordSpacing(value) {\n    this._wordSpacing = value\n    this.update()\n    this.updateBounds()\n  }\n\n  get wordSpacing() {\n    return this._wordSpacing\n  }\n\n  private _textAlign: TextStyleOptions['textAlign'] = TextStyle.defaultTextStyle.textAlign\n\n  set textAlign(value) {\n    this._textAlign = value\n    this.update()\n  }\n\n  get textAlign() {\n    return this._textAlign\n  }\n\n  private _lineHeight = 0\n\n  set lineHeight(value) {\n    if (this.lineHeight !== value) {\n      this._lineHeight = value\n      this.update()\n      this.updateBounds()\n    }\n  }\n\n  get lineHeight() {\n    if (!this._lineHeight) {\n      this._lineHeight = typeof this.fontSize == 'number' ? this.fontSize : Number.parseInt(`${this.fontSize}`)\n    }\n    return this._lineHeight\n  }\n\n  private _wordWrap = false\n\n  set wordWrap(value) {\n    if (this.wordWrap !== value) {\n      this._wordWrap = value\n      this.update()\n      this.updateBounds()\n    }\n  }\n\n  get wordWrap() {\n    return this._wordWrap\n  }\n\n  private _wordWrapWidth = 0\n\n  set wordWrapWidth(value) {\n    if (this.wordWrapWidth !== value) {\n      this._wordWrapWidth = value\n      this.update()\n      this.updateBounds()\n    }\n  }\n\n  get wordWrapWidth() {\n    return this._wordWrapWidth\n  }\n\n  clone() {\n    return new TextStyle({\n      fill: this.fill,\n      stroke: this.stroke,\n      fontFamily: this.fontFamily,\n      fontSize: this.fontSize,\n      fontStyle: this.fontStyle,\n      fontWeight: this.fontWeight,\n      fontStretch: this.fontStretch,\n      fontVariantCaps: this.fontVariantCaps,\n      letterSpacing: this.letterSpacing,\n      wordSpacing: this.wordSpacing,\n      textAlign: this.textAlign,\n      filter: this.filter,\n    })\n  }\n\n  render(ctx: CanvasRenderingContext2D) {\n    super.render(ctx)\n    ctx.textBaseline = 'top'\n    ctx.font = createCanvasFontString(this)\n    ctx.fontStretch = this.fontStretch\n    ctx.fontVariantCaps = this.fontVariantCaps\n    ctx.letterSpacing = formatWithPx(this.letterSpacing)\n    ctx.wordSpacing = formatWithPx(this.wordSpacing)\n    ctx.textAlign = this.textAlign\n    return this\n  }\n};\n","import type { TextStyleOptions } from '../style/text-style'\nimport { TextStyle } from '../style/text-style'\nimport type { DisplayOptions } from './display'\nimport { Display } from './display'\n\nexport interface TextOptions extends DisplayOptions {\n  text: string\n  style?: Partial<TextStyleOptions> | TextStyle\n}\n\nexport class Text extends Display {\n  constructor(options: TextOptions) {\n    super(options)\n    if (options.style)\n      this.style = options.style\n    this.text = options.text ?? ''\n    this.emit('ready')\n    this._onUpdate()\n  }\n\n  private _style = new TextStyle()\n\n  set style(style: Partial<TextStyleOptions> | TextStyle) {\n    style = style || {}\n    this._style?.off('update', this._onUpdate, this)\n    this._style?.off('updateBounds', this.shouldUpdateBounds, this)\n    if (style instanceof TextStyle) {\n      this._style = style\n    }\n    else {\n      this._style = new TextStyle(style)\n    }\n    this._style.on('update', this._onUpdate, this)\n    this._style?.on('updateBounds', this.shouldUpdateBounds, this)\n    this._onUpdate()\n  }\n\n  get style(): TextStyle {\n    return this._style\n  }\n\n  private _text = ''\n\n  set text(text) {\n    if (this._text === text)\n      return\n    this._text = text\n    this._onUpdate()\n  }\n\n  get text() {\n    return this._text\n  }\n\n  get _shouldUpdate(): boolean {\n    return !!(this.style.fill) || !!(this.style.stroke.color && this.style.stroke.width)\n  }\n\n  getSplitText(ctx: CanvasRenderingContext2D) {\n    const texts = this.text.split('')\n    const splitText = []\n    let multilineText: string[] = []\n    for (let i = 0; i < texts.length; i++) {\n      const currentStr = texts[i]\n      multilineText.push(currentStr)\n      const rowStr = multilineText.join('')\n      if (ctx.measureText(rowStr).width > this.style.wordWrapWidth) {\n        multilineText.pop()\n        splitText.push(multilineText.join(''))\n        multilineText = [currentStr]\n        continue\n      }\n      if (i === texts.length - 1) {\n        splitText.push(rowStr)\n      }\n    }\n    return splitText\n  }\n\n  _render(ctx: CanvasRenderingContext2D) {\n    if (this.style.fill || (this.style.stroke?.color && this.style.stroke?.width)) {\n      this.style.render(ctx)\n      // 绘制单行文本\n      if (!this.style.wordWrap || !this.style.wordWrapWidth) {\n        if (this.style.fill) {\n          ctx.fillText(this.text, this.position.x, this.position.y)\n        }\n        if (this.style.stroke?.color && this.style.stroke?.width) {\n          ctx.strokeText(this.text, this.position.x, this.position.y)\n        }\n      }\n      else {\n        const splitText = this.getSplitText(ctx)\n        for (let i = 0; i < splitText.length; i++) {\n          const text = splitText[i]\n          if (this.style.fill) {\n            ctx.strokeText(text, this.position.x, this.position.y + i * this.style.lineHeight)\n          }\n          if (this.style.stroke?.color && this.style.stroke?.width) {\n            ctx.strokeText(text, this.position.x, this.position.y + i * this.style.lineHeight)\n          }\n        }\n      }\n    }\n  }\n\n  protected transformWidth = 0\n\n  protected transformHeight = 0\n  protected updateTransformBounds() {\n    if (!this._app)\n      return\n    this._app.wrapperRender((ctx) => {\n      this.style.render(ctx)\n      if (!this.style.wordWrap || !this.style.wordWrapWidth) {\n        const measure = ctx.measureText(this.text)\n        this.transformWidth = measure.width\n        let height = Math.max(...[\n          measure.actualBoundingBoxDescent - measure.actualBoundingBoxAscent,\n          typeof this.style.fontSize == 'number' ? this.style.fontSize : Number.parseInt(`${this.style.fontSize}`),\n        ])\n        if (this.style.stroke && this.style.stroke.width) {\n          height += this.style.stroke.width\n        }\n        this.transformHeight = height\n      }\n      else {\n        const splitText = this.getSplitText(ctx)\n        this.transformWidth = this.style.wordWrapWidth\n        if (!splitText.length) {\n          this.transformHeight = 0\n          return\n        }\n        const measure = ctx.measureText(this.getSplitText(ctx)[0])\n        const lineHeight = this.style.lineHeight\n        let height = Math.max(...[\n          measure.actualBoundingBoxDescent - measure.actualBoundingBoxAscent,\n          lineHeight,\n        ])\n        if (this.style.stroke && this.style.stroke.width) {\n          height += this.style.stroke.width\n        }\n        if (splitText.length > 1) {\n          this.transformHeight = (splitText.length - 1) * lineHeight + height\n        }\n      }\n    })\n  }\n};\n"],"names":[],"mappings":"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","x_google_ignoreList":[0]}