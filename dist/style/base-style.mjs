import{createProxy as t}from"../utils.mjs";function e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var s={exports:{}};!function(t){var e=Object.prototype.hasOwnProperty,s="~";function n(){}function r(t,e,s){this.fn=t,this.context=e,this.once=s||!1}function o(t,e,n,o,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var h=new r(n,o||t,i),a=s?s+e:e;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],h]:t._events[a].push(h):(t._events[a]=h,t._eventsCount++),t}function i(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function h(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(s=!1)),h.prototype.eventNames=function(){var t,n,r=[];if(0===this._eventsCount)return r;for(n in t=this._events)e.call(t,n)&&r.push(s?n.slice(1):n);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},h.prototype.listeners=function(t){var e=s?s+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,i=new Array(o);r<o;r++)i[r]=n[r].fn;return i},h.prototype.listenerCount=function(t){var e=s?s+t:t,n=this._events[e];return n?n.fn?1:n.length:0},h.prototype.emit=function(t,e,n,r,o,i){var h=s?s+t:t;if(!this._events[h])return!1;var a,l,f=this._events[h],u=arguments.length;if(f.fn){switch(f.once&&this.removeListener(t,f.fn,void 0,!0),u){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,e),!0;case 3:return f.fn.call(f.context,e,n),!0;case 4:return f.fn.call(f.context,e,n,r),!0;case 5:return f.fn.call(f.context,e,n,r,o),!0;case 6:return f.fn.call(f.context,e,n,r,o,i),!0}for(l=1,a=new Array(u-1);l<u;l++)a[l-1]=arguments[l];f.fn.apply(f.context,a)}else{var c,p=f.length;for(l=0;l<p;l++)switch(f[l].once&&this.removeListener(t,f[l].fn,void 0,!0),u){case 1:f[l].fn.call(f[l].context);break;case 2:f[l].fn.call(f[l].context,e);break;case 3:f[l].fn.call(f[l].context,e,n);break;case 4:f[l].fn.call(f[l].context,e,n,r);break;default:if(!a)for(c=1,a=new Array(u-1);c<u;c++)a[c-1]=arguments[c];f[l].fn.apply(f[l].context,a)}}return!0},h.prototype.on=function(t,e,s){return o(this,t,e,s,!1)},h.prototype.once=function(t,e,s){return o(this,t,e,s,!0)},h.prototype.removeListener=function(t,e,n,r){var o=s?s+t:t;if(!this._events[o])return this;if(!e)return i(this,o),this;var h=this._events[o];if(h.fn)h.fn!==e||r&&!h.once||n&&h.context!==n||i(this,o);else{for(var a=0,l=[],f=h.length;a<f;a++)(h[a].fn!==e||r&&!h[a].once||n&&h[a].context!==n)&&l.push(h[a]);l.length?this._events[o]=1===l.length?l[0]:l:i(this,o)}return this},h.prototype.removeAllListeners=function(t){var e;return t?(e=s?s+t:t,this._events[e]&&i(this,e)):(this._events=new n,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=s,h.EventEmitter=h,t.exports=h}(s);var n=e(s.exports);class r extends n{constructor(){super()}_alpha=1;set alpha(t){this._alpha=t,this.update()}get alpha(){return this._alpha}_strokeWeight=0;set strokeWeight(t){this._strokeWeight=t,this.update()}get strokeWeight(){return this._strokeWeight}_fill="#000";set fill(t){this._fill=t,this.update()}get fill(){return this._fill}_stroke=null;set stroke(t){this._stroke=t,this.update()}get stroke(){return this._stroke}_shadow={};set shadow(e){e!==this._shadow&&e&&(this._shadow=t(e,(()=>{this.update()})),this.update())}get shadow(){return this._shadow}_filter="none";set filter(t){this._filter=t,this.update()}get filter(){return this._filter}update(){this.emit("update")}updateBounds(){this.emit("updateBounds")}render(t){return t.globalAlpha=this.alpha,this.strokeWeight&&this.stroke&&(t.lineWidth=this.strokeWeight,t.strokeStyle=this.stroke),this.fill&&(t.fillStyle=this.fill),this.filter&&(t.filter=this.filter),(this.shadow?.x||this.shadow?.y)&&(this.shadow?.blur||this.shadow?.color)&&(this.shadow.color&&(t.shadowColor=this.shadow.color),this.shadow.blur&&(t.shadowBlur=this.shadow.blur),this.shadow.x&&(t.shadowOffsetX=this.shadow.x),this.shadow.y&&(t.shadowOffsetY=this.shadow.y)),this}}export{r as BaseStyle};
//# sourceMappingURL=base-style.mjs.map
