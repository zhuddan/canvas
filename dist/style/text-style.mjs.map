{"version":3,"file":"text-style.mjs","sources":["../../src/style/text-style.ts"],"sourcesContent":["import type { Properties, Property } from 'csstype'\nimport { interceptUpdate } from '../common/intercept'\nimport { BaseStyle } from './base-style'\n\nexport interface IFont {\n  /**\n   * @description 字体\n   * [MDN Reference](https://developer.mozilla.org/zh-CN/docs/Web/CSS/font-family)\n   */\n  fontFamily: Properties['fontFamily']\n  /**\n   * @description 字体大小 当值为 number 时单位为px\n   * [MDN Reference](https://developer.mozilla.org/zh-CN/docs/Web/CSS/font-size)\n   */\n  fontSize: Properties['fontSize'] | (number & {})\n  /**\n   * @description 字体样式\n   * [MDN Reference](https://developer.mozilla.org/zh-CN/docs/Web/CSS/font-style)\n   */\n  fontStyle: Properties['fontStyle']\n  /**\n   * @description 字体的粗细程度\n   * [MDN Reference](https://developer.mozilla.org/zh-CN/docs/Web/CSS/font-weight)\n   */\n  fontWeight: Properties['fontWeight']\n\n  /**\n   * 指定绘制文本时字体如何被扩展或压缩\n   * [MDN Reference](https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/fontStretch)\n   */\n  fontStretch: CanvasFontStretch\n  /**\n   * 用于指定渲染文本的替代大写形式\n   * [MDN Reference](https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/fontVariantCaps)\n   */\n  fontVariantCaps: CanvasFontVariantCaps\n  /**\n   * 用于指定绘制文本时字母之间的间距\n   * [MDN Reference](https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/letterSpacing)\n   */\n  letterSpacing: string | number\n  /**\n   * 指定绘制文本时单词之间的间距\n   * [MDN Reference](https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/wordSpacing)\n   */\n  wordSpacing: string | number\n  /**\n   * 文本时文本的对齐方式\n   * [MDN Reference](https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/textAlign)\n   */\n  textAlign: CanvasTextAlign\n  // /**\n  //  * 绘制文本时使用的文本基线 建议使用top 即文本坐标为右上角(由于设备差异或者字体差异导致这个坐标是预估的, 尤其是y坐标, 不适合精细的绘制)\n  //  * [MDN Reference](https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/textBaseline)\n  //  */\n  // textBaseline?: CanvasTextBaseline\n}\nexport class TextStyle extends BaseStyle implements Required<IFont> {\n  readonly textBaseline = 'top'\n\n  private _fontSize: IFont['fontSize'] = 12\n\n  @interceptUpdate()\n  set fontSize(value) {\n    this._fontSize = value\n  }\n\n  get fontSize() {\n    return this._fontSize\n  }\n\n  private _fontFamily = 'serif'\n\n  @interceptUpdate()\n  set fontFamily(value) {\n    this._fontFamily = value\n  }\n\n  get fontFamily() {\n    return this._fontFamily\n  }\n\n  private _fontStyle = 'normal'\n\n  @interceptUpdate()\n  set fontStyle(value) {\n    this._fontStyle = value\n  }\n\n  get fontStyle() {\n    return this._fontStyle\n  }\n\n  private _fontWeight = 'normal'\n  @interceptUpdate()\n  set fontWeight(value) {\n    this._fontWeight = value\n  }\n\n  get fontWeight() {\n    return this._fontWeight\n  }\n\n  private _fontStretch: IFont['fontStretch'] = 'normal'\n  @interceptUpdate()\n  set fontStretch(value) {\n    this._fontStretch = value\n  }\n\n  get fontStretch() {\n    return this._fontStretch\n  }\n\n  private _fontVariantCaps: IFont['fontVariantCaps'] = 'normal'\n  @interceptUpdate()\n  set fontVariantCaps(value) {\n    this._fontVariantCaps = value\n  }\n\n  get fontVariantCaps() {\n    return this._fontVariantCaps\n  }\n\n  private _letterSpacing: IFont['letterSpacing'] = 0\n  @interceptUpdate()\n  set letterSpacing(value) {\n    this._letterSpacing = value\n  }\n\n  get letterSpacing() {\n    return this._letterSpacing\n  }\n\n  private _wordSpacing: IFont['wordSpacing'] = 'normal'\n  @interceptUpdate()\n  set wordSpacing(value) {\n    this._wordSpacing = value\n  }\n\n  get wordSpacing() {\n    return this._wordSpacing\n  }\n\n  private _textAlign: IFont['textAlign'] = 'left'\n  @interceptUpdate()\n  set textAlign(value) {\n    this._textAlign = value\n  }\n\n  get textAlign() {\n    return this._textAlign\n  }\n};\n"],"names":[],"mappings":"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"}