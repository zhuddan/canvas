{"version":3,"file":"point.mjs","sources":["../../src/position/point.ts"],"sourcesContent":["import mitt from 'mitt'\nimport { Event } from '../common/event'\n\nexport interface PointObject { x: number, y: number }\nexport type PointArray = [number, number]\nexport type MaybePoint = PointObject | PointArray | Point\nexport class Point extends Event<{\n  shouldUpdate: 'update'\n}> {\n  shouldUpdate = false\n  private _x = -Infinity\n\n  set x(x) {\n    if (x !== this._x) {\n      this._x = x\n      this.emit('shouldUpdate', 'update')\n    }\n  }\n\n  get x() {\n    return this._x\n  }\n\n  private _y = -Infinity\n\n  set y(y) {\n    if (y !== this._y) {\n      this._y = y\n      this.emit('shouldUpdate', 'update')\n    }\n  }\n\n  get y() {\n    return this._y\n  }\n\n  constructor(arg1: PointObject | PointArray) {\n    super()\n    if (Array.isArray(arg1)) {\n      [this.x, this.y] = arg1\n    }\n    else if (typeof arg1 === 'number') {\n      this.x = this.y = arg1\n    }\n    else {\n      this.x = arg1.x\n      this.y = arg1.y\n    }\n  }\n\n  translate(p: MaybePoint) {\n    p = createPoint(p)\n    this.x += p.x\n    this.y += p.y\n    return this\n  }\n\n  reverse() {\n    this.x *= -1\n    this.y *= -1\n    return this\n  }\n\n  clone(): Point {\n    return new Point([this.x, this.y])\n  }\n}\n\nexport function createPoint(maybePoint: MaybePoint): Point {\n  if (maybePoint instanceof Point) {\n    return maybePoint\n  }\n  return new Point(maybePoint)\n}\n"],"names":[],"mappings":";;;;AAMM,MAAO,KAAM,SAAQ,KAEzB,CAAA;IACA,YAAY,GAAG,KAAK,CAAA;IACZ,EAAE,GAAG,CAAC,QAAQ,CAAA;IAEtB,IAAI,CAAC,CAAC,CAAC,EAAA;AACL,QAAA,IAAI,CAAC,KAAK,IAAI,CAAC,EAAE,EAAE;AACjB,YAAA,IAAI,CAAC,EAAE,GAAG,CAAC,CAAA;AACX,YAAA,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,QAAQ,CAAC,CAAA;SACpC;KACF;AAED,IAAA,IAAI,CAAC,GAAA;QACH,OAAO,IAAI,CAAC,EAAE,CAAA;KACf;IAEO,EAAE,GAAG,CAAC,QAAQ,CAAA;IAEtB,IAAI,CAAC,CAAC,CAAC,EAAA;AACL,QAAA,IAAI,CAAC,KAAK,IAAI,CAAC,EAAE,EAAE;AACjB,YAAA,IAAI,CAAC,EAAE,GAAG,CAAC,CAAA;AACX,YAAA,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,QAAQ,CAAC,CAAA;SACpC;KACF;AAED,IAAA,IAAI,CAAC,GAAA;QACH,OAAO,IAAI,CAAC,EAAE,CAAA;KACf;AAED,IAAA,WAAA,CAAY,IAA8B,EAAA;AACxC,QAAA,KAAK,EAAE,CAAA;AACP,QAAA,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;YACvB,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAA;SACxB;AACI,aAAA,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;YACjC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAA;SACvB;aACI;AACH,YAAA,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAA;AACf,YAAA,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAA;SAChB;KACF;AAED,IAAA,SAAS,CAAC,CAAa,EAAA;AACrB,QAAA,CAAC,GAAG,WAAW,CAAC,CAAC,CAAC,CAAA;AAClB,QAAA,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAA;AACb,QAAA,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAA;AACb,QAAA,OAAO,IAAI,CAAA;KACZ;IAED,OAAO,GAAA;AACL,QAAA,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAA;AACZ,QAAA,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAA;AACZ,QAAA,OAAO,IAAI,CAAA;KACZ;IAED,KAAK,GAAA;AACH,QAAA,OAAO,IAAI,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAA;KACnC;AACF,CAAA;AAEK,SAAU,WAAW,CAAC,UAAsB,EAAA;AAChD,IAAA,IAAI,UAAU,YAAY,KAAK,EAAE;AAC/B,QAAA,OAAO,UAAU,CAAA;KAClB;AACD,IAAA,OAAO,IAAI,KAAK,CAAC,UAAU,CAAC,CAAA;AAC9B;;;;"}