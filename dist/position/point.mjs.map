{"version":3,"file":"point.mjs","sources":["../../src/position/point.ts"],"sourcesContent":["import { Event } from '../common/event'\nimport { interceptUpdate } from '../common/intercept'\n\nexport interface PointObject { x: number, y: number }\nexport type PointArray = [number, number]\nexport type MaybePoint = PointObject | PointArray | Point\n\nexport class Point extends Event<{\n  shouldUpdate: any\n}> {\n  shouldUpdate = false\n\n  _x = -Infinity\n  @interceptUpdate()\n  set x(x) {\n    this._x = x\n  }\n\n  get x() {\n    return this._x\n  }\n\n  private _y = -Infinity\n\n  @interceptUpdate()\n  set y(y) {\n    this._y = y\n  }\n\n  get y() {\n    return this._y\n  }\n\n  constructor(arg1: PointObject | PointArray) {\n    super()\n    if (Array.isArray(arg1)) {\n      [this._x, this._y] = arg1\n    }\n    else {\n      this._x = arg1.x\n      this._y = arg1.y\n    }\n  }\n\n  translate(p: MaybePoint) {\n    p = createPoint(p)\n    this.x += p.x\n    this.y += p.y\n    return this\n  }\n\n  reverse() {\n    this.x *= -1\n    this.y *= -1\n    return this\n  }\n\n  clone(): Point {\n    return new Point([this.x, this.y])\n  }\n}\n\nexport function createPoint(maybePoint: MaybePoint): Point {\n  if (maybePoint instanceof Point) {\n    return maybePoint\n  }\n  return new Point(maybePoint)\n}\n"],"names":[],"mappings":";;;;;;;;;AAOM,MAAO,KAAM,SAAQ,KAEzB,CAAA;IACA,YAAY,GAAG,KAAK,CAAA;IAEpB,EAAE,GAAG,CAAC,QAAQ,CAAA;IAEd,IAAI,CAAC,CAAC,CAAC,EAAA;AACL,QAAA,IAAI,CAAC,EAAE,GAAG,CAAC,CAAA;KACZ;AAED,IAAA,IAAI,CAAC,GAAA;QACH,OAAO,IAAI,CAAC,EAAE,CAAA;KACf;IAEO,EAAE,GAAG,CAAC,QAAQ,CAAA;IAGtB,IAAI,CAAC,CAAC,CAAC,EAAA;AACL,QAAA,IAAI,CAAC,EAAE,GAAG,CAAC,CAAA;KACZ;AAED,IAAA,IAAI,CAAC,GAAA;QACH,OAAO,IAAI,CAAC,EAAE,CAAA;KACf;AAED,IAAA,WAAA,CAAY,IAA8B,EAAA;AACxC,QAAA,KAAK,EAAE,CAAA;AACP,QAAA,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;YACvB,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,GAAG,IAAI,CAAA;SAC1B;aACI;AACH,YAAA,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,CAAC,CAAA;AAChB,YAAA,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,CAAC,CAAA;SACjB;KACF;AAED,IAAA,SAAS,CAAC,CAAa,EAAA;AACrB,QAAA,CAAC,GAAG,WAAW,CAAC,CAAC,CAAC,CAAA;AAClB,QAAA,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAA;AACb,QAAA,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAA;AACb,QAAA,OAAO,IAAI,CAAA;KACZ;IAED,OAAO,GAAA;AACL,QAAA,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAA;AACZ,QAAA,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAA;AACZ,QAAA,OAAO,IAAI,CAAA;KACZ;IAED,KAAK,GAAA;AACH,QAAA,OAAO,IAAI,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAA;KACnC;AACF,CAAA;AA9CC,UAAA,CAAA;AADC,IAAA,eAAe,EAAE;AAGjB,CAAA,EAAA,KAAA,CAAA,SAAA,EAAA,GAAA,EAAA,IAAA,CAAA,CAAA;AASD,UAAA,CAAA;AADC,IAAA,eAAe,EAAE;AAGjB,CAAA,EAAA,KAAA,CAAA,SAAA,EAAA,GAAA,EAAA,IAAA,CAAA,CAAA;AAmCG,SAAU,WAAW,CAAC,UAAsB,EAAA;AAChD,IAAA,IAAI,UAAU,YAAY,KAAK,EAAE;AAC/B,QAAA,OAAO,UAAU,CAAA;KAClB;AACD,IAAA,OAAO,IAAI,KAAK,CAAC,UAAU,CAAC,CAAA;AAC9B;;;;"}